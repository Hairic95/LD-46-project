[gd_scene load_steps=6 format=2]

[ext_resource path="res://Textures/campfire-top.png" type="Texture" id=1]
[ext_resource path="res://Textures/campfire-bottom.png" type="Texture" id=2]
[ext_resource path="res://Textures/campfire-fire.png" type="Texture" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

var fire_hp = 4

func update_fire(new_hp):
	fire_hp = new_hp
	$FIRE.scale = Vector2(new_hp * 0.25, new_hp * 0.25)
	
	if fire_hp <= 0.0:
		# TODO: extinguish effect
		# TODO: darkness
		
		# game over
		GLOBALS.emit_signal(\"game_over\")
	
"

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 224, 331.294 )

[node name="Campfire" type="Node2D"]
script = SubResource( 1 )

[node name="campfire-top" type="Sprite" parent="."]
texture = ExtResource( 1 )

[node name="campfire-bottom" type="Sprite" parent="."]
texture = ExtResource( 2 )

[node name="Area2D" type="Area2D" parent="." groups=[
"Campfire",
]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2( 5.30005, -214.653 )
shape = SubResource( 2 )

[node name="FIRE" type="Node2D" parent="."]

[node name="campfire-fire" type="Sprite" parent="FIRE"]
position = Vector2( 5.02681, -0.605436 )
scale = Vector2( 1.18633, 1.52794 )
texture = ExtResource( 3 )
offset = Vector2( 14.4567, -201.776 )
